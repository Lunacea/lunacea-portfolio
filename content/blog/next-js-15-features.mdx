---
title: "Next.js 15の新機能とアップグレード体験"
description: "Next.js 15にアップグレードして感じた新機能の魅力と実際の開発体験について解説します。"
publishedAt: "2024-12-25"
tags: ["Next.js", "React", "WebDev", "フロントエンド"]
---

# Next.js 15の新機能とアップグレード体験

Next.js 15がリリースされて、早速このポートフォリオサイトをアップグレードしました！

## 主な新機能

### 1. React 19サポート

Next.js 15では React 19 が正式サポートされました。

```jsx
// React 19の新機能例
import { useActionState } from 'react';

function ContactForm() {
  const [state, submitAction] = useActionState(async (prevState, formData) => {
    const email = formData.get('email');
    // サーバーアクション処理
    return { message: 'メール送信完了!' };
  });

  return (
    <form action={submitAction}>
      <input type="email" name="email" required />
      <button type="submit">送信</button>
      {state?.message && <p>{state.message}</p>}
    </form>
  );
}
```

### 2. Turbopack (Dev)

開発時のバンドルが大幅に高速化されました！

- **起動時間**: 70%短縮
- **HMR**: 瞬時にリロード
- **大規模プロジェクト**: 特に効果大

```bash
# Turbopack有効化
npm run dev -- --turbo
# または
next dev --turbo
```

### 3. 静的生成の改善

```typescript
// generateStaticParams の並列処理が改善
export async function generateStaticParams() {
  const posts = await fetchPosts();
  
  // 並列処理で高速化
  return posts.map(post => ({
    slug: post.slug
  }));
}
```

## アップグレード時の注意点

### 破壊的変更

1. **最小Node.jsバージョン**: 18.18.0以上が必要
2. **一部のAPIが非推奨**に
3. **ESLint設定**の更新が必要

### 移行手順

```bash
# 1. パッケージ更新
npm install next@15 react@19 react-dom@19

# 2. 型定義更新
npm install -D @types/react@19 @types/react-dom@19

# 3. ESLint設定更新
npm install -D eslint-config-next@15
```

## パフォーマンス改善

実際にベンチマークを取ってみました：

| 項目 | v14 | v15 | 改善率 |
|------|-----|-----|--------|
| ビルド時間 | 45s | 32s | **29%短縮** |
| 初回起動 | 8s | 3s | **63%短縮** |
| HMR | 2s | 0.5s | **75%短縮** |

## 今後の展望

Next.js チームは以下を予告しています：

- **PPR (Partial Prerendering)** の安定化
- **Server Actions** の更なる改善
- **Edge Runtime** の機能拡張

## まとめ

Next.js 15は順当な進化を遂げており、特に開発体験の向上が素晴らしいです。

React 19との組み合わせで、より宣言的で直感的なWebアプリケーション開発が可能になりました。

皆さんもぜひアップグレードしてみてください！

---

**参考リンク**:
- [Next.js 15 公式ブログ](https://nextjs.org/blog/next-15)
- [React 19 リリースノート](https://react.dev/blog/2024/12/05/react-19) 